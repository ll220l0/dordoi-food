(()=>{"use strict";self.addEventListener("push",t=>{let i={title:"Dordoi Food",body:"Order status updated.",url:"/order"};if(t.data)try{let o=t.data.json();i={title:"string"==typeof(null==o?void 0:o.title)&&o.title?o.title:i.title,body:"string"==typeof(null==o?void 0:o.body)&&o.body?o.body:i.body,url:"string"==typeof(null==o?void 0:o.url)&&o.url?o.url:i.url}}catch(l){let o=t.data.text();o&&(i.body=o)}t.waitUntil(self.registration.showNotification(i.title,{body:i.body,icon:"/icons/icon-192.png",badge:"/icons/favicon-64.png",data:{url:i.url}}))}),self.addEventListener("notificationclick",t=>{var i,o;t.notification.close();let l=(null==(o=t.notification)||null==(i=o.data)?void 0:i.url)||"/order";t.waitUntil(self.clients.matchAll({type:"window",includeUncontrolled:!0}).then(t=>{for(let i of t)if("focus"in i)return i.navigate(l),i.focus();return self.clients.openWindow(l)}))})})();